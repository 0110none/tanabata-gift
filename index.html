<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>七夕の願い星 | Tanabata Wishes</title>
  <meta name="description" content="星をタップして、七夕のメッセージを受け取ってね。" />
  <style>
    :root{
      --bg:#040814; --fg:#fff; --overlay:rgba(0,0,0,.35); /* 背景图上加一层暗色 */
    }
    *{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    html,body{ height:100%; margin:0; }
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN","Noto Sans JP","Yu Gothic UI","PingFang SC","Microsoft YaHei",sans-serif;
      background: var(--bg); color:var(--fg);
      display:flex; align-items:center; justify-content:center;
      padding: env(safe-area-inset-top) 12px env(safe-area-inset-bottom);
      -webkit-font-smoothing:antialiased;
      touch-action: manipulation;
    }

    header{
      position:fixed; top:calc(8px + env(safe-area-inset-top)); left:0; right:0;
      text-align:center; padding:0 16px; pointer-events:none;
      text-shadow:0 2px 6px rgba(0,0,0,.45);
    }
    h1{ margin:0 0 6px; font-size:clamp(18px,4.5vw,28px); letter-spacing:.04em; }
    p.lead{ margin:0; opacity:.9; font-size:clamp(12px,3.6vw,16px); }

    .sky{
      position:relative;
      width:min(560px, 92vw); height:min(560px, 92vw);
      border-radius:20px; overflow:hidden;
      box-shadow:0 12px 40px rgba(0,0,0,.45);
      background:
        /* ←想自定义背景图，把 ./assets/bg.jpg 换成你的图 */
        linear-gradient(var(--overlay),var(--overlay)),
        url("./star.png") center/cover no-repeat,
        radial-gradient(60% 60% at 70% 30%, rgba(255,255,255,.08), transparent 60%),
        radial-gradient(50% 50% at 30% 70%, rgba(255,255,255,.06), transparent 60%),
        #030815;
      will-change:transform;
    }

    /* 星星是纯文本“⭐️”，用按钮承载，便于 iOS 点击 */
    .star{
      position:absolute; border:0; background:transparent; color:#fff;
      font-size:clamp(26px, 7vw, 40px); line-height:1; cursor:pointer;
      transform:translate(-50%, -50%);  /* 以坐标为中心对齐 */
      transition:transform .12s ease, filter .2s ease;
      text-shadow:0 0 10px rgba(255,215,0,.55), 0 0 18px rgba(255,215,0,.35);
    }
    .star:active{ transform:translate(-50%,-50%) scale(.92); }
    @media (hover:hover){ .star:hover{ transform:translate(-50%,-50%) scale(1.06); } }

    .msg{
      position:absolute; left:50%; bottom:12px; transform:translateX(-50%);
      width:min(520px, 88vw);
      background: rgba(10,14,28,.76); backdrop-filter: blur(8px);
      border:1px solid rgba(255,255,255,.14); border-radius:16px;
      padding:14px 16px; text-align:center;
      font-size:clamp(14px, 3.6vw, 16px); line-height:1.6;
      box-shadow:0 10px 30px rgba(0,0,0,.45);
    }

    .share{
      position:absolute; right:12px; top:12px;
      background: rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.18);
      color:#fff; border-radius:999px; padding:8px 12px; font-size:12px;
      cursor:pointer; backdrop-filter: blur(6px);
    }
  </style>
</head>
<body>
  <header>
    <h1>七夕の願い星 ✨</h1>
    <p class="lead">好きな星をタップしてね（メッセージが届きます）</p>
  </header>

  <div class="sky" id="sky" aria-label="tanabata sky">
    <p class="msg" id="msg">星を選ぶと、メッセージが現れるよ。<br><b>Happy Tanabata</b> 🎋</p>
    <button class="share" id="shareBtn" type="button">Share</button>

    <!-- ⭐️ 七颗星：爱心形状（百分比坐标，中心对齐） -->
    <!-- 坐标说明：left = X%，top = Y%（容器内相对位置） -->
    <button class="star" type="button" style="left:50%; top:18%;" aria-label="star">⭐️</button> <!-- 顶部心窝 -->
    <button class="star" type="button" style="left:32%; top:28%;" aria-label="star">⭐️</button> <!-- 左上 -->
    <button class="star" type="button" style="left:68%; top:28%;" aria-label="star">⭐️</button> <!-- 右上 -->
    <button class="star" type="button" style="left:24%; top:46%;" aria-label="star">⭐️</button> <!-- 左中 -->
    <button class="star" type="button" style="left:76%; top:46%;" aria-label="star">⭐️</button> <!-- 右中 -->
    <button class="star" type="button" style="left:50%; top:60%;" aria-label="star">⭐️</button> <!-- 下中 -->
    <button class="star" type="button" style="left:50%; top:78%;" aria-label="star">⭐️</button> <!-- 心尖 -->
  </div>

  <script>
    // 祝福语（可改成你的专属台词，日/中都行）
    const WISHES = [
      "七夕の夜、君の幸せを祈っています。⭐️",
      "いつも笑顔でいてね。😊",
      "また会える日を楽しみにしてる。🌙",
      "あなたの毎日が、星のように輝きますように。✨",
      "毎日楽しく過ごしてね！🎈",
      "次に会える時は、もっと心が近づいていますように。💞",
      "君の存在だけで、世界がやさしくなる。💫",
    ];

    const msg = document.getElementById("msg");
    // 给所有星星绑定点击事件：随机显示祝福
    document.querySelectorAll(".star").forEach((s)=>{
      s.addEventListener("click", ()=>{
        const text = WISHES[Math.floor(Math.random()*WISHES.length)];
        msg.textContent = text;
      });
    });

    // 分享（iOS Safari 支持 Web Share API）
    document.getElementById("shareBtn").addEventListener("click", async ()=>{
      const shareData = { title:"七夕の願い星", text:"星を選んで、メッセージを受け取ってね🎋", url: location.href };
      try{
        if (navigator.share){ await navigator.share(shareData); }
        else { await navigator.clipboard.writeText(location.href); alert("Link copied!"); }
      }catch(e){
        await navigator.clipboard.writeText(location.href); alert("Link copied!");
      }
    });
  </script>
</body>
</html>
